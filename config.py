# ==============================
# CONFIGURATION FILE (CLOUD)
# ==============================

import os

# -------------------------------------------------
# Telegram (ТОЛЬКО через переменные окружения)
# -------------------------------------------------

TELEGRAM_TOKEN = os.getenv("TELEGRAM_TOKEN")
TELEGRAM_CHAT_ID = os.getenv("TELEGRAM_CHAT_ID")

if not TELEGRAM_TOKEN:
    raise RuntimeError("❌ TELEGRAM_TOKEN не задан в переменных окружения")

if not TELEGRAM_CHAT_ID:
    raise RuntimeError("❌ TELEGRAM_CHAT_ID не задан в переменных окружения")

# -------------------------------------------------
# Scheduler
# -------------------------------------------------
# Проверка новостей каждые N минут
CHECK_INTERVAL_MINUTES = 30

# -------------------------------------------------
# Night mode (умный 24/7)
# -------------------------------------------------

NIGHT_MODE_ENABLED = True

# ⚠️ ВАЖНО:
# В облаке (Railway / GCP / Render) время = UTC
# Мы используем UTC, локальную коррекцию сделаем позже
NIGHT_START_HOUR = 0   # 00:00 UTC
NIGHT_END_HOUR = 8     # 08:00 UTC

# -------------------------------------------------
# Global news rules
# -------------------------------------------------

GLOBAL_NEWS_TYPES = [
    "regulation",
    "etf",
    "macro",
    "institutional",
    "force_majeure"
]

# -------------------------------------------------
# ETF thresholds
# -------------------------------------------------
# Минимальный приток/отток ETF (USD),
# чтобы новость считалась СИЛЬНОЙ
ETF_STRONG_FLOW_USD = 300_000_000

# -------------------------------------------------
# Memory
# -------------------------------------------------
# Сколько часов хранить память о новостях
MEMORY_RETENTION_HOURS = 48
